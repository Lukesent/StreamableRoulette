<!DOCTYPE html>
<html>
<head>
  <title>Streamable Roulette</title>
  <style> 
    input[type=button], input[type=submit], input[type=reset] {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 16px 32px;
      text-decoration: none;
      margin: 4px 2px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <input type="button" onclick="randomString();" value="Get Video"/>

  <div style="width: 100%; height: 0px; position: relative; padding-bottom: 100%;">
    <iframe id="myvid" src="" frameborder="0" width="100%" height="100%" allowfullscreen style="width: 100%; height: 100%; position: absolute;"></iframe>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
function randomString() {
  var chars = '01234567890abcdefghiklmnopqrstuvwxyz';
  var stringlength = 6;
  var text = '';

  for (var i = 0; i < stringlength; i++) {
    var rnum = Math.floor(Math.random() * chars.length);
    text += chars.substring(rnum, rnum + 1);
  }

  var source = 'https://streamable.com/' + text;
  var videocontainer = document.getElementById('myvid');
  var videosource = document.getElementById('myvid');

  fetch(source)
    .then(response => {
      if (response.status === 200) {
        videosource.setAttribute('src', source);
      } else {
        randomString();
      }
    })
    .catch(error => console.log(error));
});
  </script>
</body>
</html>
